local receiveditem = "!Chegou item em seu Baú.!";function getTotalBonusPoint(level, bonusList)	local totalPoints = 0;	for key, value in pairs(bonusList) do	    if(level >= value.from) then	        if(level > value.to) then			    totalPoints = totalPoints + ((value.to - value.from) * value.bonusByLevel);			else			    totalPoints = totalPoints + ((level - value.from) * value.bonusByLevel);			end		else		    break;		end	end		return totalPoints;endlocal function addEquipAtribute( player, item, slot )		if( player.mob.Str > player.mob.Int ) then		if( slot == 0 ) then		item.add2 = 72;		item.val2 = 18;		elseif( slot == 1 or slot == 2 ) then		item.add2 = 67;		item.val2 = 18;		item.add3 = 71;		item.val3 = 4;		elseif( slot <= 3 ) then		item.add2 = 67;		item.val2 = 18;		item.add3 = 72;		item.val3 = 18;		elseif( slot == 4 ) then		item.add2 = 67;		item.val2 = 18;		end	else		if( slot == 0 ) then		item.add2 = 68;		item.val2 = 6;		elseif( slot == 1 or slot == 2 or slot == 3 ) then		item.add2 = 68;		item.val2 = 6;		item.add3 = 72;		item.val3 = 15;		elseif( slot == 4 ) then		item.add2 = 68;		item.val2 = 6;		item.add3 = 72;		item.val3 = 12;		end	endendlocal function addEquipItem( player, itemid, slottype )	local slot = player:GetFreeSlot( 2 );	if( slot ~= -1 ) then		local item = player:GetStorageItem( slot );		addEquipAtribute( player, item, slottype );		item.itemid = itemid;		item.add1 = 43;		item.val1 = 6;		player:SendItem( slot, 2 );		return true;	end	return false;endlocal function getWeaponType( itemid, itemLevel )	if( itemid > 800 and itemid <= 816 ) then		return (806+itemLevel);	elseif( itemid > 815 and itemid < 831 ) then		return (821+itemLevel);	elseif( itemid > 830 and itemid < 846 ) then		return (836+itemLevel);	elseif( itemid > 845 and itemid < 861 ) then		return (851+itemLevel);	elseif( itemid > 860 and itemid < 876 ) then		return (866+itemLevel);	elseif( itemid > 875 and itemid < 891 ) then		return (881+itemLevel);	elseif( itemid > 890 and itemid < 906 ) then		return (886+itemLevel);	elseif( itemid > 905 and itemid < 916 ) then		return (907+itemLevel);	elseif( itemid > 930 and itemid < 938 ) then		return ;	end	return (861+itemLevel);endlocal function addWeaponItem( player, itemLevel )	local slot = player:GetFreeSlot( 2 );	if( slot ~= -1 ) then		local item = player:GetStorageItem( slot );		local weapon1 = player:GetItemBySlot(5,0);		local weapon2 = player:GetItemBySlot(6,0);				if( weapon1 ~= nil ) then			item.itemid = getWeaponType( weapon1.itemid, itemLevel );		elseif( weapon2 ~= nil ) then			item.itemid = getWeaponType( weapon2.itemid, itemLevel );		else			Log( "addWeaponItem: not have weapons equiped..." );			return false;		end				if( item.itemid == 0 ) then			Log( "addWeaponItem: getWeaponType: not found.." );			return false;		end		item.add1 = 43;		item.val1 = 7;		if( player.mob.Str > player.mob.Int ) then			item.add2 = 67;			item.val2 = 32;		else			item.add2 = 68;			item.val2 = 16;		end		player:SendItem( slot, 2 );		return true;	end	return false;endlocal function addMountItem( player, itemid )	local slot = player:GetFreeSlot( 2 );	if( slot ~= -1 ) then		local item = player:GetStorageItem( slot );		item.itemid = itemid;		item.add1 = 10;		item.val1 = 10;		item.add2 = 100; -- level		item.val2 = 5; -- vitalidades		item.add3 = 100; -- exp		item.val3 = 100; -- ração		player:SendItem( slot, 2 );		return true;	end	return false;endlocal function getKnightItem( player )	local lvl = player.mob.Level;	if( lvl >= 29 and lvl <= 44 ) then		if( lvl == 33 ) then			return addEquipItem( player, 1112,0 );		elseif( lvl == 43 ) then			return ( addEquipItem( player, 1124,1 ) and addMountItem( player, 2363 ) and addWeaponItem( player, 1 ) );		elseif( lvl == 36 ) then			return addEquipItem( player, 1136,2 );		elseif( lvl == 29 ) then			return addEquipItem( player, 1148,3 );		elseif( lvl == 31 ) then			return addEquipItem( player, 1160,4 );		end	elseif( lvl >= 88 and lvl <= 101 ) then		if( lvl == 96 ) then			return addEquipItem( player, 1178,0 );		elseif( lvl == 100 ) then			return ( addEquipItem( player, 1181,1 ) and addMountItem( player, 2364 ) and addWeaponItem( player, 2 ) );		elseif( lvl == 98 ) then			return addEquipItem( player, 1184,2 );		elseif( lvl == 88 ) then			return addEquipItem( player, 1187,3 );		elseif( lvl == 92 ) then			return addEquipItem( player, 1190,4 );		end	elseif( lvl >= 130 and lvl <= 141 ) then		if( lvl == 136 ) then			return addEquipItem( player, 1193,0 );		elseif( lvl == 140 ) then			return ( addEquipItem( player, 1196,1 ) and addMountItem( player, 2365 ) and addWeaponItem( player, 3 ) );		elseif( lvl == 138 ) then			return addEquipItem( player, 1199,2 );		elseif( lvl == 130 ) then			return addEquipItem( player, 1202,3 );		elseif( lvl == 132 ) then			return addEquipItem( player, 1205,4 );		end	elseif( lvl >= 150 and lvl <= 160 ) then		if( lvl == 155 ) then			return addEquipItem( player, 1208,0 );		elseif( lvl == 159 ) then			return ( addEquipItem( player, 1211,1 ) and addMountItem( player, 2366 ) and addWeaponItem( player, 4 ) );		elseif( lvl == 158 ) then			return addEquipItem( player, 1214,2 );		elseif( lvl == 150 ) then			return addEquipItem( player, 1217,3 );		elseif( lvl == 152 ) then			return addEquipItem( player, 1220,4 );		end	end	return false;endlocal function getFoemaItem( player )	local lvl = player.mob.Level;	if( lvl >= 29 and lvl <= 44 ) then		if( lvl == 35 ) then			return addEquipItem( player, 1262,0 );		elseif( lvl == 43 ) then			return ( addEquipItem( player, 1274,1 ) and addMountItem( player, 2363 ) and addWeaponItem( player, 1 ) );		elseif( lvl == 38 ) then			return addEquipItem( player, 1286,2 );		elseif( lvl == 31 ) then			return addEquipItem( player, 1298,3 );		elseif( lvl == 33 ) then			return addEquipItem( player, 1310,4 );		end	elseif( lvl >= 97 and lvl <= 110 ) then		if( lvl == 103 ) then			return addEquipItem( player, 1313,0 );		elseif( lvl == 109 ) then			return ( addEquipItem( player, 1316,1 ) and addMountItem( player, 2364 ) and addWeaponItem( player, 2 ) );		elseif( lvl == 107 ) then			return addEquipItem( player, 1319,2 );		elseif( lvl == 97 ) then			return addEquipItem( player, 1322,3 );		elseif( lvl == 100 ) then			return addEquipItem( player, 1325,4 );		end	elseif( lvl >= 130 and lvl <= 141 ) then		if( lvl == 136 ) then			return addEquipItem( player, 1328,0 );		elseif( lvl == 140 ) then			return ( addEquipItem( player, 1331,1 ) and addMountItem( player, 2365 ) and addWeaponItem( player, 3 ) );		elseif( lvl == 138 ) then			return addEquipItem( player, 1334,2 );		elseif( lvl == 130 ) then			return addEquipItem( player, 1337,3 );		elseif( lvl == 132 ) then			return addEquipItem( player, 1340,4 );		end	elseif( lvl >= 150 and lvl <= 160 ) then		if( lvl == 155 ) then			return addEquipItem( player, 1343,0 );		elseif( lvl == 159 ) then			return ( addEquipItem( player, 1346,1 ) and addMountItem( player, 2366 ) and addWeaponItem( player, 4 ) );		elseif( lvl == 158 ) then			return addEquipItem( player, 1349,2 );		elseif( lvl == 150 ) then			return addEquipItem( player, 1352,3 );		elseif( lvl == 152 ) then			return addEquipItem( player, 1355,4 );		end	end	return false;endlocal function getBeastMasterItem( player )	local lvl = player.mob.Level;	if( lvl >= 29 and lvl <= 44 ) then		if( lvl == 35 ) then			return addEquipItem( player, 1448,0 );		elseif( lvl == 43 ) then			return ( addEquipItem( player, 1451,1 ) and addMountItem( player, 2363 ) and addWeaponItem( player, 1 ) );		elseif( lvl == 38 ) then			return addEquipItem( player, 1454,2 );		elseif( lvl == 31 ) then			return addEquipItem( player, 1457,3 );		elseif( lvl == 33 ) then			return addEquipItem( player, 1460,4 );		end	elseif( lvl >= 97 and lvl <= 110 ) then		if( lvl == 103 ) then			return addEquipItem( player, 1463,0 );		elseif( lvl == 109 ) then			return ( addEquipItem( player, 1466,1 ) and addMountItem( player, 2364 ) and addWeaponItem( player, 2 ) );		elseif( lvl == 107 ) then			return addEquipItem( player, 1469,2 );		elseif( lvl == 97 ) then			return addEquipItem( player, 1472,3 );		elseif( lvl == 100 ) then			return addEquipItem( player, 1475,4 );		end	elseif( lvl >= 130 and lvl <= 141 ) then		if( lvl == 136 ) then			return addEquipItem( player, 1478, 0 );		elseif( lvl == 140 ) then			return ( addEquipItem( player, 1481,1 ) and addMountItem( player, 2365 ) and addWeaponItem( player, 3 ) );		elseif( lvl == 138 ) then			return addEquipItem( player, 1484,2 );		elseif( lvl == 130 ) then			return addEquipItem( player, 1487,3 );		elseif( lvl == 132 ) then			return addEquipItem( player, 1490,4 );		end	elseif( lvl >= 150 and lvl <= 160 ) then		if( lvl == 155 ) then			return addEquipItem( player, 1493, 0 );		elseif( lvl == 159 ) then			return ( addEquipItem( player, 1496, 1 ) and addMountItem( player, 2366 ) and addWeaponItem( player, 4 ) );		elseif( lvl == 158 ) then			return addEquipItem( player, 1499, 2 );		elseif( lvl == 150 ) then			return addEquipItem( player, 1502, 3 );		elseif( lvl == 152 ) then			return addEquipItem( player, 1505, 4 );		end	end	return false;endlocal function getHuntressItem( player )	local lvl = player.mob.Level;	if( lvl >= 29 and lvl <= 44 ) then		if( lvl == 33 ) then			return addEquipItem( player, 1598,0 );		elseif( lvl == 43 ) then			return ( addEquipItem( player, 1601,1 ) and addMountItem( player, 2363 ) and addWeaponItem( player, 1 ) );		elseif( lvl == 36 ) then			return addEquipItem( player, 1604,2 );		elseif( lvl == 29 ) then			return addEquipItem( player, 1607,3 );		elseif( lvl == 31 ) then			return addEquipItem( player, 1610,4 );		end	elseif( lvl >= 88 and lvl <= 101 ) then		if( lvl == 96 ) then			return addEquipItem( player, 1613,0 );		elseif( lvl == 100 ) then			return ( addEquipItem( player, 1616,1 ) and addMountItem( player, 2364 ) and addWeaponItem( player, 2 ) );		elseif( lvl == 98 ) then			return addEquipItem( player, 1619,2 );		elseif( lvl == 88 ) then			return addEquipItem( player, 1622,3 );		elseif( lvl == 92 ) then			return addEquipItem( player, 1625,4 );		end	elseif( lvl >= 130 and lvl <= 141 ) then		if( lvl == 136 ) then			return addEquipItem( player, 1628,0 );		elseif( lvl == 140 ) then			return ( addEquipItem( player, 1631,1 ) and addMountItem( player, 2365 ) and addWeaponItem( player, 3 ) );		elseif( lvl == 138 ) then			return addEquipItem( player, 1634,2 );		elseif( lvl == 130 ) then			return addEquipItem( player, 1637,3 );		elseif( lvl == 132 ) then			return addEquipItem( player, 1640,4 );		end	elseif( lvl >= 150 and lvl <= 160 ) then		if( lvl == 155 ) then			return addEquipItem( player, 1643,0 );		elseif( lvl == 159 ) then			return ( addEquipItem( player, 1646,1 ) and addMountItem( player, 2366 ) and addWeaponItem( player, 4 ) );		elseif( lvl == 158 ) then			return addEquipItem( player, 1649,2 );		elseif( lvl == 150 ) then			return addEquipItem( player, 1652,3 );		elseif( lvl == 152 ) then			return addEquipItem( player, 1655,4 );		end	end	return false;endfunction addBonus( player )		local lvl = player.mob.Level;		if( lvl < 161 ) then				local classid = player.mob.classid;				if( classid == 0 ) then			if( getKnightItem( player ) == true ) then				player:SendMsg(receiveditem);			end		elseif( classid == 1 ) then			if( getFoemaItem( player ) == true ) then				player:SendMsg(receiveditem);			end		elseif( classid == 2 ) then			if( getBeastMasterItem( player ) == true ) then				player:SendMsg(receiveditem);			end		elseif( classid == 3 ) then			if( getHuntressItem( player ) == true ) then				player:SendMsg(receiveditem);			end		end	end		local gold;		if( lvl < 200 ) then		gold = player.mob.Gold+10000;	else		gold = player.mob.Gold+100000;	end		if( gold < 2000000000 ) then		player.mob.Gold = gold;	end	endfunction checkBlockExp( player )	local Lvl = player.mob.Level;		if( Lvl < 349 ) then		Lvl = 0;	elseif( Lvl >= 349 and Lvl < 449 ) then		Lvl = 1;	elseif( Lvl >= 449 and Lvl < 549 ) then		Lvl = 2;	elseif( Lvl >= 549 and Lvl < 649 ) then		Lvl = 4;	elseif( Lvl >= 649 and Lvl < 749 ) then		Lvl = 8;	elseif( Lvl >= 749 ) then		Lvl = 16;	end		if( Lvl == 0 or player:checkQuest( Lvl ) ) then		return true;	else		player:SendMsg("Level travado. Realize a quest destravamento de Level, acesse o site.");		return false;	end	endfunction logUpLevel(player)	Log( "Acc: "..player:getUserName().." Char: '"..player:getName().."' UpLevel: "..player:getLevel()..", Evolução: "..player:getPromotionId().." EXP: "..player:getExp());end